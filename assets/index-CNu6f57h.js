const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/LocationHeatmap-9gViECyH.js","assets/react-vendor-zN3dnueO.js","assets/ui-vendor-DmOUGBWX.js","assets/date-vendor-BWBGyv18.js","assets/chart-vendor-dAIseTT7.js"])))=>i.map(i=>d[i]);
var e=Object.defineProperty,s=Object.defineProperties,r=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,i=(s,r,t)=>r in s?e(s,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[r]=t,l=(e,s)=>{for(var r in s||(s={}))a.call(s,r)&&i(e,r,s[r]);if(t)for(var r of t(s))n.call(s,r)&&i(e,r,s[r]);return e},c=(e,t)=>s(e,r(t)),o=(e,s,r)=>new Promise(((t,a)=>{var n=e=>{try{l(r.next(e))}catch(s){a(s)}},i=e=>{try{l(r.throw(e))}catch(s){a(s)}},l=e=>e.done?t(e.value):Promise.resolve(e.value).then(n,i);l((r=r.apply(e,s)).next())}));import{r as d,a as m,u as x,L as h,B as p,b as u,d as y}from"./react-vendor-zN3dnueO.js";import{U as g,B as j,C as f,S as b,X as N,F as v,a as w,b as k,I as A,M as _,c as S,A as E,d as C,P as L,G as z,L as M,e as P,f as U,g as O,h as R,i as q,j as T,k as I,l as F,T as $,m as D,n as B}from"./ui-vendor-DmOUGBWX.js";import{f as H,p as K}from"./date-vendor-BWBGyv18.js";import{R as W,B as G,X as J,Y,T as V,a as X,C as Q}from"./chart-vendor-dAIseTT7.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver((e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&s(e)})).observe(document,{childList:!0,subtree:!0})}function s(e){if(e.ep)return;e.ep=!0;const s=function(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?s.credentials="include":"anonymous"===e.crossOrigin?s.credentials="omit":s.credentials="same-origin",s}(e);fetch(e.href,s)}}();var Z={exports:{}},ee={},se=d,re=Symbol.for("react.element"),te=Symbol.for("react.fragment"),ae=Object.prototype.hasOwnProperty,ne=se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ie={key:!0,ref:!0,__self:!0,__source:!0};function le(e,s,r){var t,a={},n=null,i=null;for(t in void 0!==r&&(n=""+r),void 0!==s.key&&(n=""+s.key),void 0!==s.ref&&(i=s.ref),s)ae.call(s,t)&&!ie.hasOwnProperty(t)&&(a[t]=s[t]);if(e&&e.defaultProps)for(t in s=e.defaultProps)void 0===a[t]&&(a[t]=s[t]);return{$$typeof:re,type:e,key:n,ref:i,props:a,_owner:ne.current}}ee.Fragment=te,ee.jsx=le,ee.jsxs=le,Z.exports=ee;var ce,oe=Z.exports,de=m;ce=de.createRoot,de.hydrateRoot;const me=()=>{const e=x(),s=s=>e.pathname===s;return oe.jsx("header",{className:"bg-white border-b border-gray-200",children:oe.jsxs("div",{className:"container mx-auto px-4 py-3 flex justify-between items-center",children:[oe.jsxs("div",{className:"flex items-center",children:[oe.jsx("div",{className:"mr-2 p-1.5 bg-primary-600 rounded-md text-white",children:oe.jsx(g,{size:24})}),oe.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"HR Candidates Dashboard"})]}),oe.jsxs("nav",{className:"hidden md:flex space-x-1",children:[oe.jsxs(h,{to:"/",className:"px-4 py-2 rounded-md flex items-center space-x-1 transition-colors "+(s("/")?"bg-primary-50 text-primary-700":"text-gray-600 hover:bg-gray-100"),children:[oe.jsx(g,{size:18}),oe.jsx("span",{children:"Candidates"})]}),oe.jsxs(h,{to:"/insights",className:"px-4 py-2 rounded-md flex items-center space-x-1 transition-colors "+(s("/insights")?"bg-primary-50 text-primary-700":"text-gray-600 hover:bg-gray-100"),children:[oe.jsx(j,{size:18}),oe.jsx("span",{children:"Insights"})]})]}),oe.jsx("div",{className:"md:hidden",children:oe.jsx("button",{className:"text-gray-500 hover:text-gray-700 focus:outline-none",children:oe.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:oe.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})})]})})},xe=({children:e})=>oe.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[oe.jsx(me,{}),oe.jsx("main",{className:"flex-1 container mx-auto px-4 py-6",children:e}),oe.jsx("footer",{className:"bg-white border-t border-gray-200 py-4",children:oe.jsxs("div",{className:"container mx-auto px-4 text-center text-sm text-gray-500",children:["Â© ",(new Date).getFullYear()," HR Candidates Dashboard"]})})]}),he=({filters:e,onFilterChange:s,experienceLevels:r,skillsList:t,locationsList:a,employmentStatuses:n,groupedSkillsMap:i,countsBySkill:o=new Map})=>{const[m,x]=d.useState(!1),[h,p]=d.useState(e.jobRequirement),[u,y]=d.useState(!1),[j,S]=d.useState(new Set);d.useEffect((()=>{p(e.jobRequirement)}),[e.jobRequirement]);const E=r=>{const t=e.experience.includes(r)?e.experience.filter((e=>e!==r)):[...e.experience,r];s(c(l({},e),{experience:t}))},C=r=>{const t=e.skills.includes(r)?e.skills.filter((e=>e!==r)):[...e.skills,r],a=new Set(j);t.includes(r)?a.add(r):a.delete(r),S(a),s(c(l({},e),{skills:t}))},L=r=>{const t=e.location.includes(r)?e.location.filter((e=>e!==r)):[...e.location,r];s(c(l({},e),{location:t}))},z=r=>{const t=e.employmentStatus.includes(r)?e.employmentStatus.filter((e=>e!==r)):[...e.employmentStatus,r];s(c(l({},e),{employmentStatus:t}))},M=()=>""!==e.search||e.experience.length>0||e.skills.length>0||e.location.length>0||e.employmentStatus.length>0,P=e=>i&&i.get(e)||[e],U=e=>o.get(e)||0;return oe.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden mb-6 animate-fade-in",children:[oe.jsxs("div",{className:"p-4",children:[oe.jsxs("div",{className:"mb-4",children:[oe.jsx("label",{htmlFor:"jobRequirement",className:"block text-sm font-medium text-gray-700 mb-1",children:"Job Requirement"}),oe.jsxs("div",{className:"relative",children:[oe.jsx("textarea",{id:"jobRequirement",className:"block w-full px-3 py-2 pr-20 border border-gray-300 rounded-md focus:ring-primary-500 focus:border-primary-500 min-h-[80px]",placeholder:"Enter job requirements to match candidates against...",value:h,onChange:e=>{p(e.target.value)}}),oe.jsx("button",{className:"absolute right-2 bottom-2 flex items-center px-3 py-1 rounded-md text-xs font-medium transition-colors "+(u?"bg-gray-300 text-gray-600 cursor-wait":"bg-primary-600 text-white hover:bg-primary-700"),onClick:()=>{y(!0),setTimeout((()=>{s(c(l({},e),{jobRequirement:h})),setTimeout((()=>{y(!1)}),500)}),100)},disabled:u,children:u?oe.jsxs(oe.Fragment,{children:[oe.jsxs("svg",{className:"animate-spin -ml-0.5 mr-1 h-3 w-3 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[oe.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),oe.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Updating..."]}):oe.jsxs(oe.Fragment,{children:[oe.jsx(f,{size:14,className:"mr-1"}),"Apply"]})})]})]}),oe.jsxs("div",{className:"relative",children:[oe.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:oe.jsx(b,{size:18,className:"text-gray-400"})}),oe.jsx("input",{type:"text",className:"block w-full pl-10 pr-10 py-2 border border-gray-300 rounded-md focus:ring-primary-500 focus:border-primary-500",placeholder:"Search candidates by name, skills, location...",value:e.search,onChange:r=>{s(c(l({},e),{search:r.target.value}))}}),e.search&&oe.jsx("button",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>s(c(l({},e),{search:""})),children:oe.jsx(N,{size:16,className:"text-gray-400 hover:text-gray-600"})})]}),oe.jsxs("div",{className:"flex items-center justify-between mt-4",children:[oe.jsxs("button",{className:"flex items-center text-sm font-medium text-gray-700 hover:text-primary-600",onClick:()=>x(!m),children:[oe.jsx(v,{size:16,className:"mr-1"}),"Advanced Filters",m?oe.jsx(w,{size:16,className:"ml-1"}):oe.jsx(k,{size:16,className:"ml-1"})]}),M()&&oe.jsx("button",{className:"text-sm text-primary-600 hover:text-primary-800 font-medium",onClick:()=>{s({search:"",experience:[],skills:[],location:[],employmentStatus:[],jobRequirement:e.jobRequirement})},children:"Clear All"})]})]}),m&&oe.jsx("div",{className:"px-4 pb-4 border-t border-gray-100 pt-3 animate-slide-up",children:oe.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[oe.jsxs("div",{children:[oe.jsx("h3",{className:"font-medium text-sm text-gray-700 mb-2",children:"Experience"}),oe.jsx("div",{className:"space-y-1",children:r.map((s=>oe.jsxs("label",{className:"flex items-center",children:[oe.jsx("input",{type:"checkbox",className:"rounded text-primary-600 focus:ring-primary-500 h-4 w-4",checked:e.experience.includes(s),onChange:()=>E(s)}),oe.jsx("span",{className:"ml-2 text-sm text-gray-700",children:s})]},s)))})]}),oe.jsxs("div",{children:[oe.jsx("h3",{className:"font-medium text-sm text-gray-700 mb-2",children:"Skills"}),oe.jsx("div",{className:"max-h-60 overflow-y-auto pr-2 space-y-0.5",children:t.slice(0,20).map((s=>oe.jsxs("div",{className:"relative",children:[oe.jsxs("div",{className:"flex items-center group",children:[oe.jsxs("label",{className:"flex items-center flex-1 cursor-pointer py-1",children:[oe.jsx("input",{type:"checkbox",className:"rounded text-primary-600 focus:ring-primary-500 h-4 w-4",checked:e.skills.includes(s),onChange:()=>C(s)}),oe.jsx("span",{className:"ml-2 text-sm text-gray-700",children:s})]}),U(s)>0&&oe.jsxs("span",{className:"text-xs bg-gray-100 text-gray-600 px-1.5 py-0.5 rounded-full flex items-center",children:[oe.jsx(g,{size:10,className:"mr-0.5"}),U(s)]}),i&&P(s).length>1&&oe.jsx("button",{className:"ml-1 p-1 text-gray-400 hover:text-gray-600 focus:outline-none",onClick:()=>(e=>{const s=new Set(j);s.has(e)?s.delete(e):s.add(e),S(s)})(s),title:j.has(s)?"Hide related skills":"Show related skills",children:j.has(s)?oe.jsx(w,{size:14}):oe.jsx(k,{size:14})})]}),i&&P(s).length>1&&(e.skills.includes(s)||j.has(s))&&oe.jsxs("div",{className:"ml-6 mt-1 mb-2 border-l-2 border-primary-100 pl-2 text-xs",children:[oe.jsxs("div",{className:"text-gray-500 mb-1 flex items-center",children:[oe.jsx(A,{size:10,className:"mr-1 text-primary-400"}),"Related skills:"]}),oe.jsx("div",{className:"flex flex-wrap gap-1",children:P(s).filter((e=>e!==s)).map(((e,s)=>oe.jsxs("div",{className:"flex items-center",children:[oe.jsx("span",{className:"px-1.5 py-0.5 bg-gray-50 border border-gray-200 rounded-full text-gray-600",children:e}),U(e)>0&&oe.jsxs("span",{className:"ml-1 text-gray-400 text-[10px]",children:["(",U(e),")"]})]},s)))})]})]},s)))})]}),oe.jsxs("div",{children:[oe.jsx("h3",{className:"font-medium text-sm text-gray-700 mb-2",children:"Location"}),oe.jsx("div",{className:"max-h-40 overflow-y-auto pr-2 space-y-1",children:a.map((({location:s,coordinates:r})=>oe.jsxs("label",{className:"flex items-center",children:[oe.jsx("input",{type:"checkbox",className:"rounded text-primary-600 focus:ring-primary-500 h-4 w-4",checked:e.location.includes(s),onChange:()=>L(s)}),oe.jsxs("span",{className:"ml-2 text-sm text-gray-700 flex items-center",children:[s||"Unknown",r&&oe.jsx(_,{size:12,className:"ml-1 text-gray-400"})]})]},s)))})]}),oe.jsxs("div",{children:[oe.jsx("h3",{className:"font-medium text-sm text-gray-700 mb-2",children:"Employment Status"}),oe.jsx("div",{className:"space-y-1",children:n.map((s=>oe.jsxs("label",{className:"flex items-center",children:[oe.jsx("input",{type:"checkbox",className:"rounded text-primary-600 focus:ring-primary-500 h-4 w-4",checked:e.employmentStatus.includes(s),onChange:()=>z(s)}),oe.jsx("span",{className:"ml-2 text-sm text-gray-700",children:s})]},s)))})]})]})}),M()&&oe.jsxs("div",{className:"px-4 py-2 bg-gray-50 border-t border-gray-100 flex flex-wrap gap-2",children:[e.experience.map((e=>oe.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-primary-100 text-primary-800",children:[e,oe.jsx("button",{className:"ml-1 focus:outline-none",onClick:()=>E(e),children:oe.jsx(N,{size:12})})]},e))),e.skills.map((e=>oe.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-secondary-100 text-secondary-800",children:[e,oe.jsx("button",{className:"ml-1 focus:outline-none",onClick:()=>C(e),children:oe.jsx(N,{size:12})})]},e))),e.location.map((e=>oe.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-accent-100 text-accent-800",children:[e,oe.jsx("button",{className:"ml-1 focus:outline-none",onClick:()=>L(e),children:oe.jsx(N,{size:12})})]},e))),e.employmentStatus.map((e=>oe.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-200 text-gray-800",children:[e,oe.jsx("button",{className:"ml-1 focus:outline-none",onClick:()=>z(e),children:oe.jsx(N,{size:12})})]},e)))]})]})},pe=(e,s)=>{if(!s)return!0;if(!e)return!1;const r=s.toLowerCase();if(e.name&&e.name.toLowerCase().includes(r))return!0;const t=new Set;return e.work_experience&&Array.isArray(e.work_experience)&&e.work_experience.forEach((e=>{e&&e.skills&&Array.isArray(e.skills)&&e.skills.forEach((e=>{e&&t.add(e)}))})),e.projects&&Array.isArray(e.projects)&&e.projects.forEach((e=>{e&&e.skills&&Array.isArray(e.skills)&&e.skills.forEach((e=>{e&&t.add(e)}))})),!!Array.from(t).some((e=>e.toLowerCase().includes(r)))||(!(!e.location||!e.location.toLowerCase().includes(r))||(!!(e.work_experience&&Array.isArray(e.work_experience)&&e.work_experience.some((e=>e&&e.title&&e.title.toLowerCase().includes(r))))||(!!(e.work_experience&&Array.isArray(e.work_experience)&&e.work_experience.some((e=>e&&e.company&&e.company.toLowerCase().includes(r))))||(!!(e.projects&&Array.isArray(e.projects)&&e.projects.some((e=>e&&e.name&&e.name.toLowerCase().includes(r))))||!!(e.projects&&Array.isArray(e.projects)&&e.projects.some((e=>e&&e.description&&e.description.toLowerCase().includes(r))))))))},ue=(e,s)=>{const r=new Set;return e.work_experience&&Array.isArray(e.work_experience)&&e.work_experience.forEach((e=>{e&&e.skills&&Array.isArray(e.skills)&&e.skills.forEach((e=>r.add(e)))})),e.projects&&Array.isArray(e.projects)&&e.projects.forEach((e=>{e&&e.skills&&Array.isArray(e.skills)&&e.skills.forEach((e=>r.add(e)))})),s.some((e=>r.has(e)))},ye=(e,s)=>{try{const r=Number(e.lat),t=Number(e.lng),a=Number(s.lat),n=Number(s.lng);if(isNaN(r)||isNaN(t)||isNaN(a)||isNaN(n))return NaN;const i=6371,l=(a-r)*Math.PI/180,c=(n-t)*Math.PI/180,o=Math.sin(l/2)*Math.sin(l/2)+Math.cos(r*Math.PI/180)*Math.cos(a*Math.PI/180)*Math.sin(c/2)*Math.sin(c/2);return i*(2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)))}catch(r){return NaN}},ge=({candidate:e,userLocation:s,groupedSkillsMap:r})=>{var t,a,n,i,l,c;const[o,m]=d.useState(!1);if(e.error)return null;const x=e=>{if(!e)return"Present";try{return H(K(e),"MMM yyyy")}catch(s){return e}},h=(()=>{const s=new Set;return e.work_experience&&Array.isArray(e.work_experience)&&e.work_experience.forEach((e=>{e.skills&&Array.isArray(e.skills)&&e.skills.forEach((e=>{e&&s.add(e)}))})),e.projects&&Array.isArray(e.projects)&&e.projects.forEach((e=>{e.skills&&Array.isArray(e.skills)&&e.skills.forEach((e=>{e&&s.add(e)}))})),Array.from(s)})(),p=e=>{var s;return!!r&&(r.has(e)&&((null==(s=r.get(e))?void 0:s.length)||0)>1)},u=s&&e.location_coordinates&&"number"==typeof e.location_coordinates.lat&&"number"==typeof e.location_coordinates.lng?ye(s,e.location_coordinates):null,y=null===(g=u)||isNaN(g)?"":"Remote"===e.location||g>1e4?"Remote":Math.round(10*g)/10+" km";var g;return oe.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-all duration-200 overflow-hidden",children:[oe.jsxs("div",{className:"p-4 border-b border-gray-100",children:[oe.jsxs("div",{className:"flex justify-between",children:[oe.jsxs("div",{children:[oe.jsx("h3",{className:"font-semibold text-lg text-gray-900",children:e.name}),oe.jsxs("p",{className:"text-sm text-gray-600",children:[e.work_experience&&e.work_experience.length>0&&(null==(t=e.work_experience[0])?void 0:t.title)||"No current position",e.work_experience&&e.work_experience.length>0&&(null==(a=e.work_experience[0])?void 0:a.company)&&` at ${e.work_experience[0].company}`]})]}),oe.jsxs("div",{children:[oe.jsx("div",{className:"flex items-center mb-1",children:oe.jsx("span",{className:"h-8 w-8 rounded-full flex items-center justify-center text-white text-sm font-medium\n                  "+((null==(n=e.computed)?void 0:n.score)?e.computed.score>=70?"bg-success-500":e.computed.score>=40?"bg-warning-500":"bg-error-500":"bg-gray-400"),children:(null==(i=e.computed)?void 0:i.score)||0})}),oe.jsx("div",{className:"text-xs text-gray-500 text-center",children:"Match"})]})]}),oe.jsxs("div",{className:"mt-3 flex flex-wrap gap-y-2",children:[oe.jsxs("div",{className:"flex items-center text-sm text-gray-600 mr-4",children:[oe.jsx(_,{size:16,className:"mr-1 text-gray-400"}),oe.jsx("span",{children:e.location||"Location not specified"}),y&&oe.jsxs("span",{className:"ml-1 text-xs text-primary-600",children:["(",y,")"]})]}),(null==(l=e.computed)?void 0:l.experience_level)&&oe.jsxs("div",{className:"flex items-center text-sm text-gray-600 mr-4",children:[oe.jsx(S,{size:16,className:"mr-1 text-gray-400"}),oe.jsx("span",{children:e.computed.experience_level})]}),oe.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[oe.jsx(E,{size:16,className:"mr-1 text-gray-400"}),oe.jsx("span",{children:(null==(c=e.computed)?void 0:c.employment_status)||"Unknown"})]})]}),oe.jsxs("div",{className:"mt-3 flex flex-wrap gap-1",children:[h.slice(0,4).map(((e,s)=>{var t;return oe.jsxs("span",{className:"px-2 py-1 rounded-full text-xs font-medium "+(p(e)?"bg-primary-100 text-primary-800 border border-primary-200":"bg-primary-50 text-primary-700"),children:[e,p(e)&&oe.jsx("span",{className:"ml-1 text-xs bg-primary-200 text-primary-800 px-1 rounded-full",children:null==(t=null==r?void 0:r.get(e))?void 0:t.length})]},s)})),h.length>4&&oe.jsxs("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-700",children:["+",h.length-4]})]})]}),o&&oe.jsxs("div",{className:"p-4 border-b border-gray-100 animate-fade-in",children:[oe.jsxs("div",{className:"mb-4",children:[oe.jsx("h4",{className:"font-medium text-sm text-gray-700 mb-2",children:"Contact Information"}),oe.jsxs("div",{className:"space-y-1",children:[oe.jsxs("div",{className:"flex items-center text-sm",children:[oe.jsx(C,{size:14,className:"mr-2 text-gray-400"}),oe.jsx("span",{className:"text-gray-800",children:e.email||"Not provided"})]}),oe.jsxs("div",{className:"flex items-center text-sm",children:[oe.jsx(L,{size:14,className:"mr-2 text-gray-400"}),oe.jsx("span",{className:"text-gray-800",children:e.phone||"Not provided"})]}),e.github_url&&oe.jsxs("div",{className:"flex items-center text-sm",children:[oe.jsx(z,{size:14,className:"mr-2 text-gray-400"}),oe.jsx("a",{href:e.github_url,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:underline",children:"GitHub Profile"})]}),e.linkedin_url&&oe.jsxs("div",{className:"flex items-center text-sm",children:[oe.jsx(M,{size:14,className:"mr-2 text-gray-400"}),oe.jsx("a",{href:e.linkedin_url,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:underline",children:"LinkedIn Profile"})]})]})]}),e.work_experience&&e.work_experience.length>0&&oe.jsxs("div",{className:"mb-4",children:[oe.jsx("h4",{className:"font-medium text-sm text-gray-700 mb-2",children:"Work Experience"}),oe.jsx("div",{className:"space-y-3",children:e.work_experience.map(((e,s)=>oe.jsxs("div",{className:"border-l-2 border-gray-200 pl-3",children:[oe.jsxs("div",{className:"flex justify-between",children:[oe.jsx("h5",{className:"font-medium text-sm text-gray-800",children:e.title}),oe.jsxs("div",{className:"flex items-center text-xs text-gray-500",children:[oe.jsx(P,{size:12,className:"mr-1"}),x(e.start_date)," - ",x(e.end_date)]})]}),oe.jsx("p",{className:"text-sm text-gray-600 mb-1",children:e.company}),e.location&&oe.jsx("p",{className:"text-xs text-gray-500 mb-1",children:e.location}),e.responsibilities&&e.responsibilities.length>0&&oe.jsxs("ul",{className:"text-xs text-gray-700 list-disc list-inside space-y-1 mt-1",children:[e.responsibilities.slice(0,2).map(((e,s)=>oe.jsx("li",{children:e},s))),e.responsibilities.length>2&&oe.jsxs("li",{className:"text-primary-600",children:["+",e.responsibilities.length-2," more responsibilities"]})]})]},s)))})]}),e.projects&&e.projects.length>0&&oe.jsxs("div",{children:[oe.jsx("h4",{className:"font-medium text-sm text-gray-700 mb-2",children:"Projects"}),oe.jsx("div",{className:"space-y-3",children:e.projects.map(((e,s)=>oe.jsxs("div",{className:"border border-gray-100 rounded-md p-2",children:[oe.jsx("h5",{className:"font-medium text-sm text-gray-800",children:e.name}),oe.jsx("p",{className:"text-xs text-gray-600 mt-1",children:e.description}),e.skills&&e.skills.length>0&&oe.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:e.skills.map(((e,s)=>oe.jsx("span",{className:"px-1.5 py-0.5 rounded text-xs bg-secondary-50 text-secondary-700",children:e},s)))})]},s)))})]})]}),oe.jsx("div",{className:"p-3 flex justify-end items-center bg-gray-50",children:oe.jsx("button",{className:"text-sm text-gray-600 hover:text-gray-900 flex items-center",onClick:()=>m(!o),children:o?oe.jsxs(oe.Fragment,{children:[oe.jsx(w,{size:16,className:"mr-1"}),"Show Less"]}):oe.jsxs(oe.Fragment,{children:[oe.jsx(k,{size:16,className:"mr-1"}),"Show More"]})})})]})},je=({candidates:e,sortOption:s,onSortChange:r,userLocation:t,onUserLocationChange:a,groupedSkillsMap:n})=>{const i=(e,t,a)=>{const n=s.field===e;return oe.jsxs("button",{onClick:()=>(e=>{e===s.field?r({field:e,direction:"asc"===s.direction?"desc":"asc"}):r({field:e,direction:"distance"===e?"asc":"desc"})})(e),className:"flex items-center px-3 py-2 rounded-md border text-sm font-medium transition-colors "+(n?"bg-primary-50 border-primary-300 text-primary-700":"bg-white border-gray-300 text-gray-700 hover:bg-gray-50"),children:[a,oe.jsx("span",{className:"ml-1",children:t}),n&&oe.jsx("span",{className:"ml-1",children:"asc"===s.direction?oe.jsx(R,{size:14}):oe.jsx(q,{size:14})})]})};return oe.jsxs("div",{children:[oe.jsxs("div",{className:"flex justify-between items-center mb-4",children:[oe.jsxs("div",{className:"flex items-center",children:[oe.jsx(g,{size:20,className:"mr-2 text-gray-400"}),oe.jsxs("h2",{className:"text-lg font-medium text-gray-900",children:["Candidates ",oe.jsxs("span",{className:"text-gray-500",children:["(",e.length,")"]})]})]}),oe.jsxs("div",{className:"flex items-center space-x-2",children:[oe.jsxs("button",{className:"flex items-center px-3 py-2 rounded-md bg-white border border-gray-300 text-gray-700 hover:bg-gray-50 text-sm font-medium transition-colors",onClick:()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition((e=>{const s={lat:e.coords.latitude,lng:e.coords.longitude};a(s),r({field:"distance",direction:"asc"})}),(e=>{alert("Unable to get your location. Please enable location services in your browser.")})):alert("Geolocation is not supported by your browser.")},title:"Use your location to sort candidates by distance",children:[oe.jsx(U,{size:16,className:"mr-1"}),t?"Location Set":"Use My Location"]}),oe.jsxs("div",{className:"flex space-x-1",children:[i("score","Score",oe.jsx(T,{size:16,className:"mr-1"})),i("distance","Distance",oe.jsx(U,{size:16,className:"mr-1"})),i("experience","Experience",oe.jsx(I,{size:16,className:"mr-1"}))]}),oe.jsxs("button",{className:"flex items-center px-3 py-2 rounded-md bg-white border border-gray-300 text-gray-700 hover:bg-gray-50 text-sm font-medium transition-colors",onClick:()=>{(e=>{const s=e.map((e=>{var s,r,t,a,n;return{name:e.name||"Unknown",email:e.email||"",phone:e.phone||"",location:e.location||"Unknown",github:e.github_url||"",linkedin:e.linkedin_url||"",experience_months:e.total_we_months||0,experience_level:(null==(s=e.computed)?void 0:s.experience_level)||"Unknown",skills:(null==(t=null==(r=e.computed)?void 0:r.skills)?void 0:t.join(", "))||"",score:(null==(a=e.computed)?void 0:a.score)||0,current_status:(null==(n=e.computed)?void 0:n.employment_status)||"Unknown",projects:e.projects&&Array.isArray(e.projects)?e.projects.map((e=>(null==e?void 0:e.name)||"Unnamed Project")).join(", "):""}})),r=JSON.stringify(s,null,2),t=`data:application/json;charset=utf-8,${encodeURIComponent(r)}`,a=`candidate-data-${(new Date).toISOString().slice(0,10)}.json`,n=document.createElement("a");n.setAttribute("href",t),n.setAttribute("download",a),n.click()})(e)},children:[oe.jsx(O,{size:16,className:"mr-1"}),"Export All"]})]})]}),0===e.length?oe.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-8 text-center",children:[oe.jsx("p",{className:"text-gray-500 mb-2",children:"No candidates match your filters."}),oe.jsx("p",{className:"text-sm text-gray-400",children:"Try adjusting your search criteria."})]}):oe.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map((e=>oe.jsx(ge,{candidate:e,userLocation:t,groupedSkillsMap:n},e.id)))})]})},fe=()=>o(void 0,null,(function*(){try{const e=yield fetch("https://raw.githubusercontent.com/pvanand07/ai-candidates-dashboard/refs/heads/master/resumes.json");if(!e.ok)throw new Error("Failed to fetch candidates data");const s=yield e.json();return Object.entries(s).filter((([e,s])=>!s.error)).map((([e,s])=>{let r=null;return s.location_coordinates&&(r={lat:s.location_coordinates.latitude,lng:s.location_coordinates.longitude}),c(l({id:e},s),{location_coordinates:r,computed:{score:be(s),experience_level:Ne(s.total_we_months),employment_status:ve(s.work_experience)}})}))}catch(e){return[]}})),be=e=>{var s,r,t;const a=Math.min(.5*e.total_we_months,50),n=new Set([...(null==(s=e.work_experience)?void 0:s.flatMap((e=>e.skills||[])))||[],...(null==(r=e.projects)?void 0:r.flatMap((e=>e.skills||[])))||[]]).size,i=Math.min(3*n,30),l=Math.min(5*((null==(t=e.projects)?void 0:t.length)||0),20);return Math.round(a+i+l)},Ne=e=>0===e?"No Experience":e<12?"Less than 1 year":e<36?"1-3 years":e<60?"3-5 years":"5+ years",ve=e=>{if(!e||0===e.length)return"Unemployed";return e.some((e=>!0===e.is_current))?"Employed":"Unemployed"},we=(e,s,r)=>{const t=((e,s)=>s.filter((s=>s.toLowerCase()===e.toLowerCase())).length/s.length)(e,s),a=((e,s)=>{const r=s.filter((s=>s.some((s=>s.toLowerCase()===e.toLowerCase())))).length;return Math.log((s.length+1)/(r+1))+1})(e,r);return t*a},ke=e=>{if(!e)return[];return(e=>{const s=e.toLowerCase().replace(/[^\w\s]/g,"").split(/\s+/).filter((e=>e.length>2)),r=new Set(["the","and","for","with","was","that","this","are","have","from","not","has","were","they","their","been","who","what","when","where","why","how","all","any","both","each","more","most","some","such"]);return s.filter((e=>!r.has(e)))})(e).filter((e=>e.length>3))},Ae=(e,s)=>{if(!s)return 0;const r=ke(s),t=[];e.work_experience&&Array.isArray(e.work_experience)&&e.work_experience.forEach((e=>{e.skills&&Array.isArray(e.skills)&&e.skills.forEach((e=>t.push(e.toLowerCase()))),e.title&&t.push(...e.title.toLowerCase().split(/\s+/)),e.company&&t.push(...e.company.toLowerCase().split(/\s+/))})),e.projects&&Array.isArray(e.projects)&&e.projects.forEach((e=>{e.skills&&Array.isArray(e.skills)&&e.skills.forEach((e=>t.push(e.toLowerCase()))),e.name&&t.push(...e.name.toLowerCase().split(/\s+/)),e.description&&t.push(...e.description.toLowerCase().split(/\s+/).filter((e=>e.length>3)))}));const a=[e].map((e=>{const s=[];return e.work_experience&&Array.isArray(e.work_experience)&&e.work_experience.forEach((e=>{e.skills&&Array.isArray(e.skills)&&e.skills.forEach((e=>s.push(e.toLowerCase()))),e.title&&s.push(...e.title.toLowerCase().split(/\s+/)),e.company&&s.push(...e.company.toLowerCase().split(/\s+/)),e.responsibilities&&Array.isArray(e.responsibilities)&&e.responsibilities.forEach((e=>{e&&s.push(...e.toLowerCase().split(/\s+/).filter((e=>e.length>3)))}))})),e.projects&&Array.isArray(e.projects)&&e.projects.forEach((e=>{e.skills&&Array.isArray(e.skills)&&e.skills.forEach((e=>s.push(e.toLowerCase()))),e.name&&s.push(...e.name.toLowerCase().split(/\s+/)),e.description&&s.push(...e.description.toLowerCase().split(/\s+/).filter((e=>e.length>3)))})),s}));let n=0;return r.forEach((s=>{const r=[...(e.work_experience||[]).flatMap((e=>e.skills||[])),...(e.projects||[]).flatMap((e=>e.skills||[]))].some((e=>e&&e.toLowerCase().includes(s)));n+=r?1.5:.5*we(s,t,a)})),Math.min(n/(1.5*r.length),1)},_e=e=>e.toLowerCase().replace(/[^\w\s]/g," ").replace(/\s+/g," ").trim(),Se=(e,s)=>{const r=_e(e),t=_e(s);if(r===t)return 1;if(r.includes(t)||t.includes(r))return.9;return.4*(1-((e,s)=>{const r=Array(s.length+1).fill(null).map((()=>Array(e.length+1).fill(null)));for(let t=0;t<=e.length;t++)r[0][t]=t;for(let t=0;t<=s.length;t++)r[t][0]=t;for(let t=1;t<=s.length;t++)for(let a=1;a<=e.length;a++){const n=e[a-1]===s[t-1]?0:1;r[t][a]=Math.min(r[t][a-1]+1,r[t-1][a]+1,r[t-1][a-1]+n)}return r[s.length][e.length]})(r,t)/Math.max(r.length,t.length))+.3*((e,s)=>{const r=new Set(e.split(" ")),t=new Set(s.split(" "));if(0===r.size&&0===t.size)return 1;const a=new Set([...r].filter((e=>t.has(e)))),n=new Set([...r,...t]);return a.size/n.size})(r,t)+.3*((e,s)=>{const r=e.split(" "),t=s.split(" "),a=[...new Set([...r,...t])],n=a.map((e=>r.filter((s=>s===e)).length)),i=a.map((e=>t.filter((s=>s===e)).length));let l=0,c=0,o=0;for(let d=0;d<a.length;d++)l+=n[d]*i[d],c+=n[d]*n[d],o+=i[d]*i[d];return c=Math.sqrt(c),o=Math.sqrt(o),0===c||0===o?0:l/(c*o)})(r,t)},Ee=(e,s)=>s.get(e)||e,Ce=e=>{const s=(e=>{const s=new Set;return e&&Array.isArray(e)&&e.forEach((e=>{e.work_experience&&Array.isArray(e.work_experience)&&e.work_experience.forEach((e=>{e.skills&&Array.isArray(e.skills)&&e.skills.forEach((e=>{e&&s.add(e)}))})),e.projects&&Array.isArray(e.projects)&&e.projects.forEach((e=>{e.skills&&Array.isArray(e.skills)&&e.skills.forEach((e=>{e&&s.add(e)}))}))})),Array.from(s)})(e);return(e=>{const s=new Map;for(const[r,t]of e.entries()){const e=[...t].sort(((e,s)=>{const r=e.length<4&&e===e.toUpperCase(),t=s.length<4&&s===s.toUpperCase();return r&&!t?1:!r&&t?-1:e.length-s.length}))[0];for(const r of t)s.set(r,e)}return s})(((e,s=.8)=>{const r=new Map,t=e.map((e=>_e(e)));for(let a=0;a<e.length;a++){let n=!1;for(const[i,l]of r.entries())if(Se(t[a],_e(i))>=s){l.push(e[a]),n=!0;break}n||r.set(e[a],[e[a]])}return r})(s))},Le=()=>{const[e,s]=d.useState([]),[r,t]=d.useState([]),[a,n]=d.useState(!0),[i,m]=d.useState(!1),[x,h]=d.useState({search:"",experience:[],skills:[],location:[],employmentStatus:[],jobRequirement:"Seeking an AI Engineer with expertise in machine learning, Python, TensorFlow, and deep learning. Experience with natural language processing, computer vision, and deployment of ML models to production environments is highly desired."}),[p,u]=d.useState({field:"score",direction:"desc"}),[y,g]=d.useState(),[j,f]=d.useState([]),[b,N]=d.useState([]),[v,w]=d.useState(new Map),[k,A]=d.useState(new Map),[_,S]=d.useState(new Map),E=["No Experience","Less than 1 year","1-3 years","3-5 years","5+ years"],C=["Employed","Unemployed"],L=d.useMemo((()=>e&&0!==e.length&&k.size?e.map((e=>{const s=l({},e);return s.work_experience&&Array.isArray(s.work_experience)&&(s.work_experience=s.work_experience.map((e=>e&&e.skills&&Array.isArray(e.skills)?c(l({},e),{skills:e.skills.map((e=>Ee(e,k)))}):e))),s.projects&&Array.isArray(s.projects)&&(s.projects=s.projects.map((e=>e&&e.skills&&Array.isArray(e.skills)?c(l({},e),{skills:e.skills.map((e=>Ee(e,k)))}):e))),s})):e),[e,k]);d.useEffect((()=>{o(void 0,null,(function*(){try{const e=yield fe();s(e);const r=(e=>{const s=new Map;return e&&Array.isArray(e)&&e.forEach((e=>{const r=new Set;e.work_experience&&Array.isArray(e.work_experience)&&e.work_experience.forEach((e=>{e.skills&&Array.isArray(e.skills)&&e.skills.forEach((e=>{e&&r.add(e)}))})),e.projects&&Array.isArray(e.projects)&&e.projects.forEach((e=>{e.skills&&Array.isArray(e.skills)&&e.skills.forEach((e=>{e&&r.add(e)}))})),r.forEach((e=>{s.set(e,(s.get(e)||0)+1)}))})),s})(e);S(r);const a=Ce(e);A(a);const i=new Map;a.forEach(((e,s)=>{i.has(e)||i.set(e,[]);const r=i.get(e);r&&r.push(s)})),w(i);const l=Array.from(new Set(a.values()));N(l),f((e=>{const s=new Map;return e.forEach((e=>{e.location?s.set(e.location,e.location_coordinates):s.set("Unknown",null)})),Array.from(s.entries()).map((([e,s])=>({location:e,coordinates:s}))).sort(((e,s)=>e.location.localeCompare(s.location)))})(e)),t(e),n(!1)}catch(e){n(!1)}}))}),[]),d.useEffect((()=>{const e=()=>o(void 0,null,(function*(){const e=void 0!==x.jobRequirement&&x.jobRequirement.length>0;e&&m(!0);try{const e=((e,s)=>e.filter((e=>{var r,t;return!(e.error||s.search&&!pe(e,s.search)||s.experience.length>0&&!s.experience.includes((null==(r=e.computed)?void 0:r.experience_level)||"")||s.skills.length>0&&!ue(e,s.skills)||s.location.length>0&&!s.location.includes(e.location||"Unknown")||s.employmentStatus.length>0&&!s.employmentStatus.includes((null==(t=e.computed)?void 0:t.employment_status)||""))})))(L,x),s=((e,s,r)=>{const t=[...e];switch(s.field){case"name":t.sort(((e,r)=>"asc"===s.direction?e.name.localeCompare(r.name):r.name.localeCompare(e.name)));break;case"score":t.sort(((e,r)=>{var t,a;const n=(null==(t=e.computed)?void 0:t.score)||0,i=(null==(a=r.computed)?void 0:a.score)||0;return"asc"===s.direction?n-i:i-n}));break;case"experience":t.sort(((e,r)=>{const t=e.total_we_months||0,a=r.total_we_months||0;return"asc"===s.direction?t-a:a-t}));break;case"distance":r?t.sort(((e,t)=>{const a=e.location_coordinates,n=t.location_coordinates,i=a&&"number"==typeof a.lat&&"number"==typeof a.lng,l=n&&"number"==typeof n.lat&&"number"==typeof n.lng;if(!i&&!l)return 0;if(!i)return"asc"===s.direction?1:-1;if(!l)return"asc"===s.direction?-1:1;try{const e=ye(r,a),t=ye(r,n);return isNaN(e)&&isNaN(t)?0:isNaN(e)?"asc"===s.direction?1:-1:isNaN(t)?"asc"===s.direction?-1:1:"asc"===s.direction?e-t:t-e}catch(c){return 0}})):t.sort(((e,r)=>"asc"===s.direction?e.location.localeCompare(r.location):r.location.localeCompare(e.location)))}return t})(e.map((e=>{var s,r;const t=((e,s)=>{const r=40*Ae(e,s),t=Math.min(.5*(e.total_we_months||0),30),a=e.projects&&Array.isArray(e.projects)?e.projects.length:0,n=Math.min(7.5*a,30);return Math.round(r+t+n)})(e,x.jobRequirement);return c(l({},e),{computed:c(l({},e.computed),{score:t,experience_level:(null==(s=e.computed)?void 0:s.experience_level)||"No Experience",employment_status:(null==(r=e.computed)?void 0:r.employment_status)||"Unemployed"})})})),p,y);t(s)}catch(s){}finally{e&&m(!1)}}));L.length>0&&e()}),[L,x,p,y]);return a?oe.jsx(xe,{children:oe.jsx("div",{className:"flex items-center justify-center h-[60vh]",children:oe.jsxs("div",{className:"text-center",children:[oe.jsx(F,{size:40,className:"animate-spin mx-auto text-primary-500 mb-4"}),oe.jsx("p",{className:"text-lg text-gray-600",children:"Loading candidates data..."})]})})}):oe.jsxs(xe,{children:[oe.jsx(he,{filters:x,onFilterChange:e=>{h(e)},experienceLevels:E,skillsList:b,locationsList:j,employmentStatuses:C,groupedSkillsMap:v,countsBySkill:_}),i?oe.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-8 mb-6 flex items-center justify-center",children:oe.jsxs("div",{className:"text-center",children:[oe.jsx(F,{size:40,className:"animate-spin mx-auto text-primary-500 mb-4"}),oe.jsx("p",{className:"text-lg text-gray-600",children:"Calculating candidate matches..."}),oe.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"This may take a moment for large datasets."})]})}):oe.jsx(je,{candidates:r,sortOption:p,onSortChange:e=>{u(e)},userLocation:y,onUserLocationChange:e=>{g(e)},groupedSkillsMap:v})]})},ze={},Me=({candidates:e})=>{const s=e.length,r=(()=>{if(0===s)return 0;return(e.reduce(((e,s)=>e+(s.total_we_months||0)),0)/s).toFixed(1)})(),t=(()=>{const s={};e&&Array.isArray(e)&&e.forEach((e=>{e.work_experience&&Array.isArray(e.work_experience)&&e.work_experience.forEach((e=>{e&&e.skills&&Array.isArray(e.skills)&&e.skills.forEach((e=>{e&&(s[e]=(s[e]||0)+1)}))})),e.projects&&Array.isArray(e.projects)&&e.projects.forEach((e=>{e&&e.skills&&Array.isArray(e.skills)&&e.skills.forEach((e=>{e&&(s[e]=(s[e]||0)+1)}))}))}));const r=Object.entries(s).sort(((e,s)=>s[1]-e[1])).slice(0,5),t=r.length>0?r[0][1]:0;return r.map((([e,s])=>({skill:e,count:s,percentage:t>0?Math.round(s/t*100):0})))})(),a=(()=>{const r={};return e&&Array.isArray(e)&&e.forEach((e=>{const s=e.location||"Unknown";r[s]=(r[s]||0)+1})),Object.entries(r).sort(((e,s)=>s[1]-e[1])).slice(0,3).map((([e,r])=>({location:e,count:r,percentage:Math.round(r/s*100)})))})(),n=(()=>{const r={Employed:0,Unemployed:0};return e&&Array.isArray(e)&&e.forEach((e=>{var s;const t=(null==(s=e.computed)?void 0:s.employment_status)||"Unemployed";r[t]+=1})),{employed:{count:r.Employed,percentage:Math.round(r.Employed/s*100)},unemployed:{count:r.Unemployed,percentage:Math.round(r.Unemployed/s*100)}}})();return oe.jsxs("div",{className:"grid gap-6 animate-fade-in",children:[oe.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[oe.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-5 border border-gray-200 transition hover:shadow-md",children:[oe.jsxs("div",{className:"flex justify-between items-start",children:[oe.jsxs("div",{children:[oe.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"Total Candidates"}),oe.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:s})]}),oe.jsx("div",{className:"p-2 rounded-full bg-primary-50",children:oe.jsx(g,{size:20,className:"text-primary-600"})})]}),oe.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100",children:oe.jsxs("div",{className:"flex items-center text-xs text-gray-500",children:[oe.jsx(P,{size:12,className:"mr-1"}),oe.jsx("span",{children:"Updated today"})]})})]}),oe.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-5 border border-gray-200 transition hover:shadow-md",children:[oe.jsxs("div",{className:"flex justify-between items-start",children:[oe.jsxs("div",{children:[oe.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"Avg. Experience"}),oe.jsxs("h3",{className:"text-2xl font-bold text-gray-900",children:[r," ",oe.jsx("span",{className:"text-sm font-normal",children:"months"})]})]}),oe.jsx("div",{className:"p-2 rounded-full bg-secondary-50",children:oe.jsx(S,{size:20,className:"text-secondary-600"})})]}),oe.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100",children:oe.jsxs("div",{className:"flex items-center text-xs text-gray-500",children:[oe.jsx($,{size:12,className:"mr-1"}),oe.jsx("span",{children:parseFloat(r)>12?"Senior level average":"Junior level average"})]})})]}),oe.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-5 border border-gray-200 transition hover:shadow-md",children:[oe.jsxs("div",{className:"flex justify-between items-start",children:[oe.jsxs("div",{children:[oe.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"Top Location"}),oe.jsx("h3",{className:"text-2xl font-bold text-gray-900 truncate max-w-[180px]",children:a.length>0?a[0].location:"N/A"})]}),oe.jsx("div",{className:"p-2 rounded-full bg-accent-50",children:oe.jsx(D,{size:20,className:"text-accent-600"})})]}),oe.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100",children:oe.jsxs("div",{className:"flex items-center text-xs text-gray-500",children:[oe.jsx(g,{size:12,className:"mr-1"}),a.length>0?oe.jsxs("span",{children:[a[0].count," candidates (",a[0].percentage,"%)"]}):oe.jsx("span",{children:"No location data"})]})})]}),oe.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-5 border border-gray-200 transition hover:shadow-md",children:[oe.jsxs("div",{className:"flex justify-between items-start",children:[oe.jsxs("div",{children:[oe.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"Currently Employed"}),oe.jsxs("h3",{className:"text-2xl font-bold text-gray-900",children:[n.employed.percentage,"%"]})]}),oe.jsx("div",{className:"p-2 rounded-full bg-gray-100",children:oe.jsx(E,{size:20,className:"text-gray-600"})})]}),oe.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100",children:oe.jsxs("div",{className:"flex items-center justify-between w-full",children:[oe.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:oe.jsx("div",{className:"bg-gray-600 h-2 rounded-full",style:{width:`${n.employed.percentage}%`}})}),oe.jsxs("span",{className:"ml-2 text-xs text-gray-500 whitespace-nowrap",children:[n.employed.count,"/",s]})]})})]})]}),oe.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[oe.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-5 border border-gray-200",children:[oe.jsxs("div",{className:"flex items-center justify-between mb-4",children:[oe.jsxs("h3",{className:"text-base font-medium text-gray-800 flex items-center",children:[oe.jsx(B,{size:16,className:"mr-2 text-primary-500"}),"Top Skills"]}),oe.jsxs("span",{className:"text-xs bg-primary-50 text-primary-700 px-2 py-1 rounded-full",children:[t.length," unique skills"]})]}),oe.jsx("div",{className:"space-y-3",children:t.map(((e,s)=>oe.jsxs("div",{className:"group",children:[oe.jsxs("div",{className:"flex justify-between items-center mb-1",children:[oe.jsx("span",{className:"font-medium text-gray-800 group-hover:text-primary-600 transition-colors",children:e.skill}),oe.jsxs("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-0.5 rounded-full",children:[e.percentage,"%"]})]}),oe.jsx("div",{className:"w-full h-2 bg-gray-100 rounded-full overflow-hidden",children:oe.jsx("div",{className:"h-full bg-primary-500 rounded-full transition-all group-hover:bg-primary-600",style:{width:`${e.percentage}%`}})})]},s)))})]}),oe.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-5 border border-gray-200",children:[oe.jsxs("div",{className:"flex items-center justify-between mb-4",children:[oe.jsxs("h3",{className:"text-base font-medium text-gray-800 flex items-center",children:[oe.jsx(D,{size:16,className:"mr-2 text-accent-500"}),"Top Locations"]}),oe.jsxs("span",{className:"text-xs bg-accent-50 text-accent-700 px-2 py-1 rounded-full",children:[a.length," locations"]})]}),oe.jsx("div",{className:"space-y-5",children:a.map(((e,s)=>oe.jsxs("div",{className:"group",children:[oe.jsxs("div",{className:"flex justify-between items-center mb-1",children:[oe.jsxs("div",{className:"flex items-center",children:[oe.jsx(_,{size:14,className:"mr-1 text-accent-500"}),oe.jsx("span",{className:"font-medium text-gray-800 group-hover:text-accent-600 transition-colors",children:e.location})]}),oe.jsxs("div",{className:"flex items-center",children:[oe.jsx(g,{size:14,className:"text-gray-400 mr-1"}),oe.jsx("span",{className:"text-xs text-gray-500",children:e.count})]})]}),oe.jsx("div",{className:"w-full h-2 bg-gray-100 rounded-full overflow-hidden",children:oe.jsx("div",{className:"h-full bg-accent-500 rounded-full transition-all group-hover:bg-accent-600",style:{width:`${e.percentage}%`}})})]},s)))})]})]})]})},Pe=({candidates:e})=>{const s=(e=>{const s=["No Experience","Less than 1 year","1-3 years","3-5 years","5+ years"],r=s.map((e=>({name:e,count:0})));return e&&Array.isArray(e)&&e.forEach((e=>{var t;const a=(null==(t=null==e?void 0:e.computed)?void 0:t.experience_level)||"No Experience",n=s.indexOf(a);-1!==n&&(r[n].count+=1)})),r})(e),r=(e=>{const s={};return e&&Array.isArray(e)&&e.length,e&&Array.isArray(e)&&e.forEach((e=>{(null==e?void 0:e.work_experience)&&Array.isArray(e.work_experience)&&e.work_experience.forEach((e=>{(null==e?void 0:e.skills)&&e.skills.forEach((e=>{e&&(s[e]=(s[e]||0)+1)}))})),(null==e?void 0:e.projects)&&Array.isArray(e.projects)&&e.projects.forEach((e=>{(null==e?void 0:e.skills)&&e.skills.forEach((e=>{e&&(s[e]=(s[e]||0)+1)}))}))})),Object.entries(s).map((([e,s])=>({name:e,count:s}))).sort(((e,s)=>s.count-e.count)).slice(0,10)})(e),t=(e=>{const s=[{name:"0-20",min:0,max:20},{name:"21-40",min:21,max:40},{name:"41-60",min:41,max:60},{name:"61-80",min:61,max:80},{name:"81-100",min:81,max:100}],r=s.map((e=>({name:e.name,count:0})));return e&&Array.isArray(e)&&e.forEach((e=>{var t;const a=(null==(t=null==e?void 0:e.computed)?void 0:t.score)||0;for(let n=0;n<s.length;n++)if(a>=s[n].min&&a<=s[n].max){r[n].count+=1;break}})),r})(e),a={experience:["#93c5fd","#60a5fa","#3b82f6","#2563eb","#1d4ed8"],skills:["#5eead4","#2dd4bf","#14b8a6","#0d9488","#0f766e"],score:["#fca5a5","#f87171","#ef4444","#dc2626","#b91c1c"]},n=({active:e,payload:s,label:r})=>e&&s&&s.length?oe.jsxs("div",{className:"bg-white p-3 shadow-md border border-gray-200 rounded-md",children:[oe.jsx("p",{className:"font-medium",children:r}),oe.jsx("p",{className:"text-sm text-primary-600",children:`${s[0].value} candidates`})]}):null;return oe.jsxs("div",{className:"space-y-6 animate-fade-in",children:[oe.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[oe.jsxs("div",{className:"bg-white p-5 rounded-lg shadow-sm border border-gray-200 transition-all hover:shadow-md",children:[oe.jsx("h3",{className:"text-base font-medium text-gray-800 mb-2",children:"Experience Distribution"}),oe.jsx("p",{className:"text-xs text-gray-500 mb-4",children:"Breakdown of candidates by years of experience"}),oe.jsx(W,{width:"100%",height:280,children:oe.jsxs(G,{data:s,layout:"vertical",margin:{left:20},children:[oe.jsx(J,{type:"number"}),oe.jsx(Y,{dataKey:"name",type:"category",tick:{fontSize:12},width:100,axisLine:!1,tickLine:!1}),oe.jsx(V,{content:oe.jsx(n,{})}),oe.jsx(X,{dataKey:"count",radius:[0,4,4,0],barSize:24,children:s.map(((e,s)=>oe.jsx(Q,{fill:a.experience[s%a.experience.length]},`cell-${s}`)))})]})})]}),oe.jsxs("div",{className:"bg-white p-5 rounded-lg shadow-sm border border-gray-200 transition-all hover:shadow-md",children:[oe.jsx("h3",{className:"text-base font-medium text-gray-800 mb-2",children:"Top Skills Distribution"}),oe.jsx("p",{className:"text-xs text-gray-500 mb-4",children:"Most frequent skills in the candidate pool"}),oe.jsx(W,{width:"100%",height:280,children:oe.jsxs(G,{data:r,layout:"vertical",margin:{left:20},children:[oe.jsx(J,{type:"number"}),oe.jsx(Y,{dataKey:"name",type:"category",tick:{fontSize:12},width:120,axisLine:!1,tickLine:!1}),oe.jsx(V,{content:oe.jsx(n,{})}),oe.jsx(X,{dataKey:"count",radius:[0,4,4,0],barSize:24,children:r.map(((e,s)=>oe.jsx(Q,{fill:a.skills[s%a.skills.length]},`cell-${s}`)))})]})})]})]}),oe.jsxs("div",{className:"bg-white p-5 rounded-lg shadow-sm border border-gray-200 transition-all hover:shadow-md",children:[oe.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center mb-4",children:[oe.jsxs("div",{children:[oe.jsx("h3",{className:"text-base font-medium text-gray-800 mb-1",children:"Candidate Score Distribution"}),oe.jsx("p",{className:"text-xs text-gray-500",children:"Number of candidates by score range"})]}),oe.jsx("div",{className:"mt-2 md:mt-0 flex",children:["0-20","21-40","41-60","61-80","81-100"].map(((e,s)=>oe.jsxs("div",{className:"flex items-center mr-3",children:[oe.jsx("div",{className:"w-3 h-3 rounded-full mr-1",style:{backgroundColor:a.score[s%a.score.length]}}),oe.jsx("span",{className:"text-xs text-gray-600",children:e})]},s)))})]}),oe.jsx(W,{width:"100%",height:280,children:oe.jsxs(G,{data:t,margin:{top:10,right:30,left:20,bottom:10},children:[oe.jsx(J,{dataKey:"name",axisLine:!1,tickLine:!1}),oe.jsx(Y,{axisLine:!1,tickLine:!1}),oe.jsx(V,{content:oe.jsx(n,{})}),oe.jsx(X,{dataKey:"count",radius:[4,4,0,0],barSize:50,children:t.map(((e,s)=>oe.jsx(Q,{fill:a.score[s%a.score.length]},`cell-${s}`)))})]})})]})]})},Ue=d.lazy((()=>function(e,s){let r=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),t=(null==e?void 0:e.nonce)||(null==e?void 0:e.getAttribute("nonce"));r=Promise.allSettled(s.map((e=>{if((e=function(e){return"/"+e}(e))in ze)return;ze[e]=!0;const s=e.endsWith(".css"),r=s?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${r}`))return;const a=document.createElement("link");return a.rel=s?"stylesheet":"modulepreload",s||(a.as="script"),a.crossOrigin="",a.href=e,t&&a.setAttribute("nonce",t),document.head.appendChild(a),s?new Promise(((s,r)=>{a.addEventListener("load",s),a.addEventListener("error",(()=>r(new Error(`Unable to preload CSS for ${e}`))))})):void 0})))}function t(e){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=e,window.dispatchEvent(s),!s.defaultPrevented)throw e}return r.then((s=>{for(const e of s||[])"rejected"===e.status&&t(e.reason);return e().catch(t)}))}((()=>import("./LocationHeatmap-9gViECyH.js")),__vite__mapDeps([0,1,2,3,4])))),Oe=()=>{const[e,s]=d.useState([]),[r,t]=d.useState(!0),[a,n]=d.useState({summary:!0,geography:!0,skills:!0});d.useEffect((()=>{o(void 0,null,(function*(){try{const e=yield fe();s(e),t(!1)}catch(e){t(!1)}}))}),[]);const i=e=>{n((s=>c(l({},s),{[e]:!s[e]})))};return r?oe.jsx(xe,{children:oe.jsx("div",{className:"flex items-center justify-center h-[60vh]",children:oe.jsxs("div",{className:"text-center",children:[oe.jsx(F,{size:40,className:"animate-spin mx-auto text-primary-500 mb-4"}),oe.jsx("p",{className:"text-lg text-gray-600",children:"Loading insights data..."})]})})}):oe.jsx(xe,{children:oe.jsxs("div",{className:"mb-6 max-w-7xl mx-auto",children:[oe.jsxs("header",{className:"mb-6",children:[oe.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Candidate Analytics"}),oe.jsx("p",{className:"text-gray-500",children:"Comprehensive insights about your candidate pool"})]}),oe.jsxs("section",{className:"mb-8",children:[oe.jsxs("div",{className:"flex items-center justify-between mb-4 cursor-pointer",onClick:()=>i("summary"),children:[oe.jsxs("div",{className:"flex items-center",children:[oe.jsx(j,{size:20,className:"mr-2 text-primary-500"}),oe.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Candidate Pool Summary"})]}),oe.jsx(k,{size:20,className:"text-gray-500 transition-transform "+(a.summary?"rotate-180":"")})]}),a.summary&&oe.jsx(Me,{candidates:e})]}),oe.jsxs("section",{className:"mb-8",children:[oe.jsxs("div",{className:"flex items-center justify-between mb-4 cursor-pointer",onClick:()=>i("geography"),children:[oe.jsxs("div",{className:"flex items-center",children:[oe.jsx(D,{size:20,className:"mr-2 text-accent-500"}),oe.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Geographic Distribution"})]}),oe.jsx(k,{size:20,className:"text-gray-500 transition-transform "+(a.geography?"rotate-180":"")})]}),a.geography&&oe.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-1",children:oe.jsx(d.Suspense,{fallback:oe.jsx("div",{className:"flex items-center justify-center h-[500px] bg-gray-50",children:oe.jsxs("div",{className:"text-center",children:[oe.jsx(D,{size:30,className:"mx-auto text-gray-300 mb-2"}),oe.jsx("p",{className:"text-gray-400",children:"Loading map..."})]})}),children:oe.jsx(Ue,{candidates:e})})})]}),oe.jsxs("section",{className:"mb-8",children:[oe.jsxs("div",{className:"flex items-center justify-between mb-4 cursor-pointer",onClick:()=>i("skills"),children:[oe.jsxs("div",{className:"flex items-center",children:[oe.jsx(j,{size:20,className:"mr-2 text-secondary-500"}),oe.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Skills & Experience Analysis"})]}),oe.jsxs("div",{className:"flex items-center",children:[oe.jsxs("span",{className:"text-xs bg-secondary-100 text-secondary-800 px-2 py-1 rounded-full mr-2",children:[e.length," candidates"]}),oe.jsx(k,{size:20,className:"text-gray-500 transition-transform "+(a.skills?"rotate-180":"")})]})]}),a.skills&&oe.jsx(Pe,{candidates:e})]}),oe.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 flex items-start",children:[oe.jsx(A,{size:18,className:"text-gray-400 mt-0.5 mr-3 flex-shrink-0"}),oe.jsxs("div",{className:"text-sm text-gray-600",children:[oe.jsx("p",{className:"mb-2",children:"This dashboard displays aggregated candidate data to help you understand your talent pool."}),oe.jsx("p",{children:"Charts and visualizations are interactive - hover over elements to see detailed information."})]})]})]})})};function Re(){const[e,s]=d.useState(!0);return d.useEffect((()=>{const e=setTimeout((()=>{s(!1)}),800);return()=>clearTimeout(e)}),[]),e?oe.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:oe.jsxs("div",{className:"text-center",children:[oe.jsx(F,{size:40,className:"animate-spin mx-auto text-primary-500 mb-4"}),oe.jsx("h1",{className:"text-2xl font-semibold text-gray-800 mb-2",children:"HR Candidates Dashboard"}),oe.jsx("p",{className:"text-gray-500",children:"Loading application..."})]})}):oe.jsx(p,{children:oe.jsxs(u,{children:[oe.jsx(y,{path:"/",element:oe.jsx(Le,{})}),oe.jsx(y,{path:"/insights",element:oe.jsx(Oe,{})})]})})}ce(document.getElementById("root")).render(oe.jsx(d.StrictMode,{children:oe.jsx(Re,{})}));export{ge as C,oe as j};
